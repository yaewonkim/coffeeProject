<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>커피등록화면</title>
</head>
<body>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<h1>커피 등록 화면</h1>

		<label>이름</label>  <input type="text" name="name" id="name"/><br>
		<label>가격</label>  <input type="text" name="price" id="price"/><br><br>
		<input type="button" name="addCoffee" id="addCoffee" value="저장" onclick="addCoffee();"/>
		<button type="button" onclick="location.href='./list' ">취소</button>
		
 
	
	<script>
	  function addCoffee() {
      
      var modelObj = {
            name: $("#name").val(),
            price: $("#price").val()
      };
      
      console.log("post data:"+modelObj);      
      
       $.ajax({
               type: "POST",
               url: "/add",
               headers: {
                   "Content-Type": "application/json"
               },
               data: JSON.stringify(modelObj),
               success: function (data) {
                  console.log("POST API RESPONSE::"+data);
               },
               error: function (jqXHR, textStatus, errorThrown) {
               },
               complete : function() { 
            	   alert("해당 음료를 등록하였습니다.");
               	   location.href= "../list";
               }
           });
   }
	</script>
   
</body>
</html>


